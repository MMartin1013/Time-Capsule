!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("@use-it/event-listener"),require("prop-types"),require("react")):"function"==typeof define&&define.amd?define(["@use-it/event-listener","prop-types","react"],n):e.splashr=n(e.useListener,e.PropTypes,e.react)}(this,function(e,n,t){e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var r="default"in t?t.default:t,i=function(n){var i=n.splash,u=n.children,o=n.transitionTime,a=n.transitionTimingFunction,l=function(e,n){void 0===n&&(n=!1);var r=t.useState(!0),i=r[0],u=r[1];return t.useEffect(function(){var n=setTimeout(function(){return u(!1)},e);return function(){return clearTimeout(n)}},[e]),i||n}(n.minDelay,n.extend),s=t.useState(!1),c=s[0],f=s[1],d=t.useRef();return l||o||c||f(!0),e("transitionend",function(){f(!0),d.current=null},o?d.current:null),c?u:r.createElement(t.Fragment,null,u,!c&&r.createElement("div",{ref:d,style:Object.assign({},{position:"fixed",margin:0,padding:0,top:0,left:0,right:0,bottom:0,opacity:l?1:0},o?{transition:"opacity "+o+"ms "+a}:{})},i))};i.propTypes={splash:n.element.isRequired,children:n.element,minDelay:n.number,extend:n.bool,transitionTime:n.number,transitionTimingFunction:n.string},i.defaultProps={children:null,minDelay:2e3,extend:void 0,transitionTime:700,transitionTimingFunction:"ease"};var u=function(e){var n=e.onUnmount;return t.useEffect(function(){return function(){n()}},[n]),null};var o=function(e){var n=e.children,o=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===n.indexOf(r)&&(t[r]=e[r]);return t}(e,["children"]),a=t.useState(!0),l=a[0],s=a[1],c=t.useMemo(function(){return r.createElement(u,{onUnmount:function(){return s(!1)}})},[s]);return r.createElement(t.Fragment,null,r.createElement(t.Suspense,{fallback:c},l?n:null),r.createElement(i,Object.assign({},o,{extend:l}),l?null:n))};return o.propTypes={children:n.element},o.defaultProps={children:null},i.Suspense=o,i});
