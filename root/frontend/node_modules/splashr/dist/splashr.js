function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var n=e(require("@use-it/event-listener")),t=e(require("prop-types")),r=require("react"),i=e(r),u=function(e){var t=e.splash,u=e.children,o=e.transitionTime,l=e.transitionTimingFunction,a=function(e,n){void 0===n&&(n=!1);var t=r.useState(!0),i=t[0],u=t[1];return r.useEffect(function(){var n=setTimeout(function(){return u(!1)},e);return function(){return clearTimeout(n)}},[e]),i||n}(e.minDelay,e.extend),c=r.useState(!1),s=c[0],m=c[1],f=r.useRef();return a||o||s||m(!0),n("transitionend",function(){m(!0),f.current=null},o?f.current:null),s?u:i.createElement(r.Fragment,null,u,!s&&i.createElement("div",{ref:f,style:Object.assign({},{position:"fixed",margin:0,padding:0,top:0,left:0,right:0,bottom:0,opacity:a?1:0},o?{transition:"opacity "+o+"ms "+l}:{})},t))};u.propTypes={splash:t.element.isRequired,children:t.element,minDelay:t.number,extend:t.bool,transitionTime:t.number,transitionTimingFunction:t.string},u.defaultProps={children:null,minDelay:2e3,extend:void 0,transitionTime:700,transitionTimingFunction:"ease"};var o=function(e){var n=e.onUnmount;return r.useEffect(function(){return function(){n()}},[n]),null};var l=function(e){var n=e.children,t=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===n.indexOf(r)&&(t[r]=e[r]);return t}(e,["children"]),l=r.useState(!0),a=l[0],c=l[1],s=r.useMemo(function(){return i.createElement(o,{onUnmount:function(){return c(!1)}})},[c]);return i.createElement(r.Fragment,null,i.createElement(r.Suspense,{fallback:s},a?n:null),i.createElement(u,Object.assign({},t,{extend:a}),a?null:n))};l.propTypes={children:t.element},l.defaultProps={children:null},u.Suspense=l,module.exports=u;
